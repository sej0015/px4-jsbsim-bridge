<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sf.net/JSBSimScript.xsl"?>
<runscript xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sf.net/JSBSimScript.xsd"
    name="Testing Template">

  <description>
    test ArduPlane using Rascal110 and JSBSim
  </description>

  <use aircraft="Rascal"/>


  <!-- Start an output TCP socket on port 1138 -->
  <output name="localhost" type="SOCKET" port="1138" rate="20">
    <simulation> ON </simulation>
    <atmosphere> ON </atmosphere>
    <massprops> OFF</massprops>
    <rates> ON </rates>
    <velocities> OFF </velocities>
    <forces> ON </forces>
    <moments> ON </moments>
    <position> OFF </position>
    <propulsion> OFF </propulsion>
    <aerosurfaces> OFF </aerosurfaces>
    <fcs> OFF </fcs>
    <ground_reactions> OFF </ground_reactions>
    <coefficients> OFF </coefficients>
    <property caption="Aileron Command (0-1)"> fcs/aileron-cmd-norm </property>
  </output>

  <run start="0" end="10000000" dt="0.001">
    <property value="0"> simulation/notify-time-trigger </property>

    <event name="start engine">
      <condition> simulation/sim-time-sec le 0.01 </condition>
      <set name="propulsion/engine[0]/set-running" value="1"/>
      <notify/>
    </event>

    <event name="Trim">
      <condition>simulation/sim-time-sec ge 0.01</condition>
      <set name="simulation/do_simple_trim" value="2"/>
      <notify/>
    </event>

    <event name="Wind" continuous="true">
      <condition>simulation/sim-time-sec ge 0.01</condition>
      <set name="atmosphere/wind-mag-fps" value="0.0"/>
      <set name="atmosphere/psiw-rad" value="0.0"/>
      <notify/>
    </event>

    <event name="Thermal" continuous="true">
      <condition>simulation/sim-time-sec ge 0.01</condition>
      <set name="atmosphere/thermal_conv_velo_scale" value="10.0"/>
      <set name="atmosphere/thermal_conv_layer_thickness" value="300"/>
      <set name="atmosphere/thermal_area_width" value="300"/>
      <set name="atmosphere/thermal_area_height" value="300"/>
      <notify/>
    </event>

  </run>

</runscript>
